!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(t){void 0===t&&(t=!0),this._module={namespaced:!0,state:{},getters:{},mutations:{},actions:{},modules:{}},this.namespaced=t}return Object.defineProperty(t.prototype,"module",{get:function(){var t=this;return{namespaced:this._module.namespaced,state:function(){return t._module.state},getters:this._module.getters,mutations:this._module.mutations,actions:this._module.actions,modules:this._module.modules}},set:function(t){this._module=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namespaced",{get:function(){return this._module.namespaced},set:function(t){this._module.namespaced=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.module.state()},set:function(t){this._module.state=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getters",{get:function(){return this.module.getters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutations",{get:function(){return this.module.mutations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.module.actions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return this.module.modules},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._module={namespaced:this.namespaced,state:{},getters:{},mutations:{},actions:{},modules:{}}},t.prototype.resetState=function(){this._module.state={}},t.prototype.resetGetters=function(){this._module.getters={}},t.prototype.resetMutations=function(){this._module.mutations={}},t.prototype.resetActions=function(){this._module.actions={}},t.prototype.resetModules=function(){this._module.modules={}},t.prototype.addState=function(t,e){this.state[t]=e},t.prototype.addGetter=function(t,e){this.getters[t]=e},t.prototype.addMutation=function(t,e){this.mutations[t]=e},t.prototype.addAction=function(t,e){this.actions[t]=e},t.prototype.addModule=function(t,e){this.modules[t]=e},t.prototype.removeState=function(t){delete this.state[t]},t.prototype.removeGetter=function(t){delete this.getters[t]},t.prototype.removeMutation=function(t){delete this.mutations[t]},t.prototype.removeAction=function(t){delete this.actions[t]},t.prototype.removeModule=function(t){delete this.modules[t]},t}(),o=function(){function t(t,e){var n=this;void 0===e&&(e=void 0),this.stringGetter=function(t){return null==t[n.state_name]?n.default_value:t[n.state_name]},this.numberGetter=function(t){return null==t[n.state_name]?n.default_value:t[n.state_name]},this.booleanGetter=function(t){return null==t[n.state_name]?n.default_value:t[n.state_name]},this.arrayGetter=function(t){return null==t[n.state_name]?n.default_value:t[n.state_name]},this.objectGetter=function(t){return null==t[n.state_name]?n.default_value:t[n.state_name]},this.anyGetter=function(t){return null==t[n.state_name]?n.default_value:t[n.state_name]},this.state_name=t,this.default_value=e}return t.prototype.setDefaultValue=function(t){if(void 0===this.default_value)switch(t){case"string":this.default_value="";break;case"number":this.default_value=null;break;case"boolean":this.default_value=!1;break;case"object":this.default_value=null;break;case"array":this.default_value=[];break;default:this.default_value=null}},t.prototype.format=function(t){switch(this.setDefaultValue(t),t){case"string":return this.stringGetter;case"number":return this.numberGetter;case"boolean":return this.booleanGetter;case"array":return this.arrayGetter;case"object":return this.objectGetter;default:return this.anyGetter}},t}(),a=function(){function t(t){var e=this;this.stringMutation=function(t,n){t[e.state_name]=n||null},this.numberMutation=function(t,n){t[e.state_name]=null==n?null:n},this.booleanMutation=function(t,n){t[e.state_name]=null==n?null:!!n},this.objectMutation=function(t,n){null==n||0===Object.keys(n).length?t[e.state_name]=null:t[e.state_name]=n},this.arrayMutation=function(t,n){null==n||0===n.length?t[e.state_name]=null:t[e.state_name]=n},this.anyMutation=function(t,n){t[e.state_name]=void 0===n?null:n},this.state_name=t}return t.prototype.format=function(t){switch(t){case"string":return this.stringMutation;case"number":return this.numberMutation;case"boolean":return this.booleanMutation;case"object":return this.objectMutation;case"array":return this.arrayMutation;default:return this.anyMutation}},t}(),u=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],u=0,i=a.length;u<i;u++,o++)r[o]=a[u];return r};function i(t){return""+t.charAt(0).toLowerCase()+t.slice(1)}function s(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.length||(e=[" ","-","_","/","\\","\n","\t"]),e.forEach((function(e){t=t.split(e).map((function(t){return s(t)})).join(e)})),t}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.length||(e=[" ","-","_","/","\\"]),t=c.apply(void 0,u([t],e)),e.forEach((function(e){"\\"===e&&(e="\\\\");var n=new RegExp(e,"g");t=t.replace(n,"")})),t}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i(l.apply(void 0,u([t],e)))}var m,p=function(){function t(t){this._instructions=[],this._state_name="",this._raw=t}return Object.defineProperty(t.prototype,"instructions",{get:function(){return this._instructions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"raw",{get:function(){return this._raw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state_name",{get:function(){return this._state_name},set:function(t){this._state_name=t},enumerable:!0,configurable:!0}),t.prototype.process=function(){for(var t=0,e=Object.entries(this.raw);t<e.length;t++){var n=e[t],r=n[0],o=n[1];this.instructions.push(this.processInstruction(r,o)),delete this.state_name}return this.instructions},t.prototype.processInstruction=function(t,e){return{type:e.type,set_state:null==e.set_state||e.set_state,state_name:this.formatStateName(t,e),state_value:this.formatStateValue(e),set_getter:null==e.set_getter||e.set_getter,getter_name:this.formatGetterName(e),getter:this.formatGetter(e),set_mutation:null==e.set_mutation||e.set_mutation,mutation_name:this.formatMutationName(e),mutation:this.formatMutation(e.type)}},t.prototype.formatStateName=function(t,e){return e.state_name?e.state_name:this.state_name=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.length||(e=[" ","-","/","\\"]),e.forEach((function(e){"\\"===e&&(e="\\\\");var n=new RegExp(e,"g");t=t.replace(n,"_")})),t.toLowerCase()}(t)},t.prototype.formatStateValue=function(t){return null==t.initial_value?null:t.initial_value},t.prototype.formatGetterName=function(t){return t.getter_name?t.getter_name:f("get_"+this.state_name)},t.prototype.formatGetter=function(t){return t.getter?t.getter:new o(this.state_name,t.default_value).format(t.type)},t.prototype.formatMutationName=function(t){return t.mutation_name?t.mutation_name:f("set_"+this.state_name)},t.prototype.formatMutation=function(t){return new a(this.state_name).format(t)},t}(),d=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){return void 0===e&&(e=!0),t.call(this,e)||this}return d(e,t),e.prototype.generate=function(t){return t.instructions&&this.executeInstructions(t.instructions),t.state&&this.addStateProperties(t.state),t.getters&&this.addGetters(t.getters),t.mutations&&this.addMutations(t.mutations),t.actions&&this.addActions(t.actions),t.modules&&this.addModules(t.modules),this.module},e.prototype.executeInstructions=function(t){var e=this;new p(t).process().forEach((function(t){t.set_state&&e.addState(t.state_name,t.state_value),t.set_getter&&e.addGetter(t.getter_name,t.getter),t.set_mutation&&e.addMutation(t.mutation_name,t.mutation)}))},e.prototype.addStateProperties=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],a=r[1];this.addState(o,a)}},e.prototype.addGetters=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],a=r[1];this.addGetter(o,a)}},e.prototype.addMutations=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],a=r[1];this.addMutation(o,a)}},e.prototype.addActions=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],a=r[1];this.addAction(o,a)}},e.prototype.addModules=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=n[e],o=r[0],a=r[1];this.addModule(o,a)}},e}(r);e.default=h}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL01vZHVsZVV0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR2V0dGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9NdXRhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvSW5zdHJ1Y3Rpb25Qcm9jZXNzb3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01vZHVsZUdlbmVyYXRvci50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm5hbWVzcGFjZWQiLCJfbW9kdWxlIiwic3RhdGUiLCJnZXR0ZXJzIiwibXV0YXRpb25zIiwiYWN0aW9ucyIsInRoaXMiLCJyZXNldCIsInJlc2V0U3RhdGUiLCJyZXNldEdldHRlcnMiLCJyZXNldE11dGF0aW9ucyIsInJlc2V0QWN0aW9ucyIsInJlc2V0TW9kdWxlcyIsImFkZFN0YXRlIiwiYWRkR2V0dGVyIiwiYWRkTXV0YXRpb24iLCJhZGRBY3Rpb24iLCJhZGRNb2R1bGUiLCJyZW1vdmVTdGF0ZSIsInJlbW92ZUdldHRlciIsInJlbW92ZU11dGF0aW9uIiwicmVtb3ZlQWN0aW9uIiwicmVtb3ZlTW9kdWxlIiwic3RhdGVfbmFtZSIsImRlZmF1bHRfdmFsdWUiLCJzdHJpbmdHZXR0ZXIiLCJudW1iZXJHZXR0ZXIiLCJib29sZWFuR2V0dGVyIiwiYXJyYXlHZXR0ZXIiLCJvYmplY3RHZXR0ZXIiLCJhbnlHZXR0ZXIiLCJzZXREZWZhdWx0VmFsdWUiLCJ0eXBlIiwidW5kZWZpbmVkIiwiZm9ybWF0Iiwic3RyaW5nTXV0YXRpb24iLCJudW1iZXJNdXRhdGlvbiIsImJvb2xlYW5NdXRhdGlvbiIsIm9iamVjdE11dGF0aW9uIiwia2V5cyIsImxlbmd0aCIsImFycmF5TXV0YXRpb24iLCJhbnlNdXRhdGlvbiIsInRvTG93ZXJDYXNlRmlyc3QiLCJzdWJqZWN0IiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJzbGljZSIsInRvVXBwZXJDYXNlRmlyc3QiLCJ0b1VwcGVyQ2FzZSIsInRvVXBwZXJDYXNlRmlyc3RBbGwiLCJzdHJpbmciLCJzZXBhcmF0b3JzIiwiZm9yRWFjaCIsInNlcGFyYXRvciIsInNwbGl0IiwibWFwIiwid29yZCIsImpvaW4iLCJ0b1Bhc2NhbENhc2UiLCJyZWdFeCIsIlJlZ0V4cCIsInJlcGxhY2UiLCJ0b0NhbWVsQ2FzZSIsImluc3RydWN0aW9ucyIsIl9pbnN0cnVjdGlvbnMiLCJfc3RhdGVfbmFtZSIsIl9yYXciLCJwcm9jZXNzIiwiZW50cmllcyIsInJhdyIsIm9wdGlvbnMiLCJwdXNoIiwicHJvY2Vzc0luc3RydWN0aW9uIiwic2V0X3N0YXRlIiwiZm9ybWF0U3RhdGVOYW1lIiwic3RhdGVfdmFsdWUiLCJmb3JtYXRTdGF0ZVZhbHVlIiwic2V0X2dldHRlciIsImdldHRlcl9uYW1lIiwiZm9ybWF0R2V0dGVyTmFtZSIsImZvcm1hdEdldHRlciIsInNldF9tdXRhdGlvbiIsIm11dGF0aW9uX25hbWUiLCJmb3JtYXRNdXRhdGlvbk5hbWUiLCJtdXRhdGlvbiIsImZvcm1hdE11dGF0aW9uIiwidG9TbmFrZUNhc2UiLCJpbml0aWFsX3ZhbHVlIiwiZ2VuZXJhdGUiLCJ0ZW1wbGF0ZSIsImV4ZWN1dGVJbnN0cnVjdGlvbnMiLCJhZGRTdGF0ZVByb3BlcnRpZXMiLCJhZGRHZXR0ZXJzIiwiYWRkTXV0YXRpb25zIiwiYWRkQWN0aW9ucyIsImFkZE1vZHVsZXMiLCJwcm9wZXJ0aWVzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVB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QUFBM0IsT0FBTzJGLFFBQVFoRSxHQUFmLGVBQXlCLENBQXpDLFdBQUNkLEVBQUEsS0FBS04sRUFBQSxLQUNicUIsS0FBS1UsVUFBVXpCLEVBQUtOLEtBSXBCLFlBQUErRyxXQUFSLFNBQW1COUgsR0FFZixJQUEyQixVQUFBUSxPQUFPMkYsUUFBUW5HLEdBQWYsZUFBeUIsQ0FBekMsV0FBQ3FCLEVBQUEsS0FBS04sRUFBQSxLQUNicUIsS0FBS1csVUFBVTFCLEVBQUtOLEtBR2hDLEVBaEVBLENBQThCLEdBa0VmIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0ICogYXMgRCBmcm9tICd+L2RlY2xhcmF0aW9ucydcblxuY2xhc3MgTW9kdWxlVXRpbGl0aWVzIHtcbiAgICBwcm90ZWN0ZWQgX21vZHVsZTogRC5Nb2R1bGUgPSB7XG4gICAgICAgIG5hbWVzcGFjZWQ6IHRydWUsIHN0YXRlOiB7fSwgZ2V0dGVyczoge30sIG11dGF0aW9uczoge30sIGFjdGlvbnM6IHt9LCBtb2R1bGVzOiB7fVxuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lc3BhY2VkOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm5hbWVzcGFjZWQgPSBuYW1lc3BhY2VkXG4gICAgfVxuXG4gICAgZ2V0IG1vZHVsZSgpOiBELkV4cG9ydE1vZHVsZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lc3BhY2VkOiB0aGlzLl9tb2R1bGUubmFtZXNwYWNlZCxcbiAgICAgICAgICAgIHN0YXRlOiAoKSA9PiB0aGlzLl9tb2R1bGUuc3RhdGUsXG4gICAgICAgICAgICBnZXR0ZXJzOiB0aGlzLl9tb2R1bGUuZ2V0dGVycyxcbiAgICAgICAgICAgIG11dGF0aW9uczogdGhpcy5fbW9kdWxlLm11dGF0aW9ucyxcbiAgICAgICAgICAgIGFjdGlvbnM6IHRoaXMuX21vZHVsZS5hY3Rpb25zLFxuICAgICAgICAgICAgbW9kdWxlczogdGhpcy5fbW9kdWxlLm1vZHVsZXNcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgbW9kdWxlKHZhbHVlKSB7IHRoaXMuX21vZHVsZSA9IHZhbHVlIH1cblxuICAgIGdldCBuYW1lc3BhY2VkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fbW9kdWxlLm5hbWVzcGFjZWR9XG4gICAgc2V0IG5hbWVzcGFjZWQodmFsdWU6IGJvb2xlYW4pIHsgdGhpcy5fbW9kdWxlLm5hbWVzcGFjZWQgPSB2YWx1ZSB9XG5cbiAgICBnZXQgc3RhdGUoKSA6RC5PYmplY3QgeyByZXR1cm4gdGhpcy5tb2R1bGUuc3RhdGUoKSB9XG4gICAgc2V0IHN0YXRlKHZhbHVlOiBELk9iamVjdCkgeyB0aGlzLl9tb2R1bGUuc3RhdGUgPSB2YWx1ZSB9XG5cbiAgICBnZXQgZ2V0dGVycygpIDpELk9iamVjdCB7IHJldHVybiB0aGlzLm1vZHVsZS5nZXR0ZXJzIH1cbiAgICBnZXQgbXV0YXRpb25zKCkgOkQuT2JqZWN0IHsgcmV0dXJuIHRoaXMubW9kdWxlLm11dGF0aW9ucyB9XG4gICAgZ2V0IGFjdGlvbnMoKSA6RC5PYmplY3QgeyByZXR1cm4gdGhpcy5tb2R1bGUuYWN0aW9ucyB9XG4gICAgZ2V0IG1vZHVsZXMoKSA6RC5PYmplY3QgeyByZXR1cm4gdGhpcy5tb2R1bGUubW9kdWxlcyB9XG5cbiAgICByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fbW9kdWxlID0ge1xuICAgICAgICAgICAgbmFtZXNwYWNlZDogdGhpcy5uYW1lc3BhY2VkLCBzdGF0ZToge30sIGdldHRlcnM6IHt9LCBtdXRhdGlvbnM6IHt9LCBhY3Rpb25zOiB7fSwgbW9kdWxlczoge31cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldFN0YXRlKCk6IHZvaWQgeyB0aGlzLl9tb2R1bGUuc3RhdGUgPSB7fSB9XG4gICAgcmVzZXRHZXR0ZXJzKCk6IHZvaWQgeyB0aGlzLl9tb2R1bGUuZ2V0dGVycyA9IHt9IH1cbiAgICByZXNldE11dGF0aW9ucygpOiB2b2lkIHsgdGhpcy5fbW9kdWxlLm11dGF0aW9ucyA9IHt9IH1cbiAgICByZXNldEFjdGlvbnMoKTogdm9pZCB7IHRoaXMuX21vZHVsZS5hY3Rpb25zID0ge30gfVxuICAgIHJlc2V0TW9kdWxlcygpOiB2b2lkIHsgdGhpcy5fbW9kdWxlLm1vZHVsZXMgPSB7fSB9XG5cbiAgICBhZGRTdGF0ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXRlW2tleV0gPSB2YWx1ZVxuICAgIH1cbiAgICBhZGRHZXR0ZXIoa2V5OiBzdHJpbmcsIHZhbHVlOiBELkdldHRlcjxELlR5cGVzPik6IHZvaWQge1xuICAgICAgICB0aGlzLmdldHRlcnNba2V5XSA9IHZhbHVlXG4gICAgfVxuICAgIGFkZE11dGF0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogRC5NdXRhdGlvbjxELlR5cGVzPik6IHZvaWQge1xuICAgICAgICB0aGlzLm11dGF0aW9uc1trZXldID0gdmFsdWVcbiAgICB9XG4gICAgYWRkQWN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogRC5BY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hY3Rpb25zW2tleV0gPSB2YWx1ZVxuICAgIH1cbiAgICBhZGRNb2R1bGUoa2V5OiBzdHJpbmcsIHZhbHVlOiBELlN1Yk1vZHVsZSk6IHZvaWQge1xuICAgICAgICB0aGlzLm1vZHVsZXNba2V5XSA9IHZhbHVlXG4gICAgfVxuXG4gICAgcmVtb3ZlU3RhdGUoa2V5OiBzdHJpbmcpOiB2b2lkIHsgZGVsZXRlIHRoaXMuc3RhdGVba2V5XSB9XG4gICAgcmVtb3ZlR2V0dGVyKGtleTogc3RyaW5nKTogdm9pZCB7IGRlbGV0ZSB0aGlzLmdldHRlcnNba2V5XX1cbiAgICByZW1vdmVNdXRhdGlvbihrZXk6IHN0cmluZyk6IHZvaWQgeyBkZWxldGUgdGhpcy5tdXRhdGlvbnNba2V5XX1cbiAgICByZW1vdmVBY3Rpb24oa2V5OiBzdHJpbmcpOiB2b2lkIHsgZGVsZXRlIHRoaXMuYWN0aW9uc1trZXldfVxuICAgIHJlbW92ZU1vZHVsZShrZXk6IHN0cmluZyk6IHZvaWQgeyBkZWxldGUgdGhpcy5tb2R1bGVzW2tleV19XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZHVsZVV0aWxpdGllc1xuIiwiaW1wb3J0ICogYXMgRCBmcm9tIFwiLi9kZWNsYXJhdGlvbnNcIjtcblxuY2xhc3MgR2V0dGVyIHtcbiAgICByZWFkb25seSBzdGF0ZV9uYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBkZWZhdWx0X3ZhbHVlOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvciAoc3RhdGVfbmFtZTogc3RyaW5nLCBkZWZhdWx0X3ZhbHVlOiBhbnkgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZV9uYW1lID0gc3RhdGVfbmFtZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0X3ZhbHVlID0gZGVmYXVsdF92YWx1ZTtcbiAgICB9XG5cbiAgICBzZXREZWZhdWx0VmFsdWUodHlwZTogRC5UeXBlcyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0X3ZhbHVlID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRfdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0X3ZhbHVlID0gIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRfdmFsdWUgPSAgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdF92YWx1ZSA9ICBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdF92YWx1ZSA9ICBbXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZhdWx0X3ZhbHVlID0gIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdCAgPFQgZXh0ZW5kcyBELlR5cGVzPiAodHlwZTogVCk6IEQuR2V0dGVyPFQ+XG4gICAge1xuICAgICAgICB0aGlzLnNldERlZmF1bHRWYWx1ZSh0eXBlKTtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nR2V0dGVyIGFzIEQuR2V0dGVyPFQ+O1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW1iZXJHZXR0ZXIgYXMgRC5HZXR0ZXI8VD47XG4gICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ib29sZWFuR2V0dGVyIGFzIEQuR2V0dGVyPFQ+O1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFycmF5R2V0dGVyIGFzIEQuR2V0dGVyPFQ+O1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RHZXR0ZXIgYXMgRC5HZXR0ZXI8VD47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFueUdldHRlciBhcyBELkdldHRlcjxUPjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0cmluZ0dldHRlcjogRC5HZXR0ZXI8J3N0cmluZyc+ID0gKHN0YXRlOiBELk9iamVjdCk6IHN0cmluZyA9PiB7XG4gICAgICAgIHJldHVybiBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdID09IG51bGwgPyB0aGlzLmRlZmF1bHRfdmFsdWUgOiBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdO1xuICAgIH07XG5cbiAgICBudW1iZXJHZXR0ZXI6IEQuR2V0dGVyPCdudW1iZXInPiA9IChzdGF0ZTogRC5PYmplY3QpOiBudW1iZXJ8bnVsbCA9PiB7XG4gICAgICAgIHJldHVybiBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdID09IG51bGwgPyB0aGlzLmRlZmF1bHRfdmFsdWUgOiBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdO1xuICAgIH07XG5cbiAgICBib29sZWFuR2V0dGVyOiBELkdldHRlcjwnYm9vbGVhbic+ID0gKHN0YXRlOiBELk9iamVjdCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICByZXR1cm4gc3RhdGVbdGhpcy5zdGF0ZV9uYW1lXSA9PSBudWxsID8gdGhpcy5kZWZhdWx0X3ZhbHVlIDogc3RhdGVbdGhpcy5zdGF0ZV9uYW1lXTtcbiAgICB9O1xuXG4gICAgYXJyYXlHZXR0ZXI6IEQuR2V0dGVyPCdhcnJheSc+ID0gKHN0YXRlOiBELk9iamVjdCk6IGFueVtdID0+IHtcbiAgICAgICAgcmV0dXJuIHN0YXRlW3RoaXMuc3RhdGVfbmFtZV0gPT0gbnVsbCA/IHRoaXMuZGVmYXVsdF92YWx1ZSA6IHN0YXRlW3RoaXMuc3RhdGVfbmFtZV07XG4gICAgfTtcblxuICAgIG9iamVjdEdldHRlcjogRC5HZXR0ZXI8J29iamVjdCc+ID0gKHN0YXRlOiBELk9iamVjdCk6IG9iamVjdHxudWxsID0+IHtcbiAgICAgICAgcmV0dXJuIHN0YXRlW3RoaXMuc3RhdGVfbmFtZV0gPT0gbnVsbCA/IHRoaXMuZGVmYXVsdF92YWx1ZSA6IHN0YXRlW3RoaXMuc3RhdGVfbmFtZV07XG4gICAgfTtcblxuICAgIGFueUdldHRlcjogRC5HZXR0ZXI8J2FueSc+ID0gKHN0YXRlOiBELk9iamVjdCk6IGFueSA9PiB7XG4gICAgICAgIHJldHVybiBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdID09IG51bGwgPyB0aGlzLmRlZmF1bHRfdmFsdWUgOiBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZXR0ZXJcbiIsImltcG9ydCAqIGFzIEQgZnJvbSBcIi4vZGVjbGFyYXRpb25zXCI7XG5cbmNsYXNzIE11dGF0aW9uIHtcbiAgICByZWFkb25seSBzdGF0ZV9uYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0ZV9uYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdGF0ZV9uYW1lID0gc3RhdGVfbmFtZVxuICAgIH1cblxuICAgIGZvcm1hdCA8VCBleHRlbmRzIEQuVHlwZXM+KHR5cGU6IFQpOiBELk11dGF0aW9uPFQ+XG4gICAge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nTXV0YXRpb24gYXMgRC5NdXRhdGlvbjxUPjtcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubnVtYmVyTXV0YXRpb24gYXMgRC5NdXRhdGlvbjxUPjtcbiAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJvb2xlYW5NdXRhdGlvbiBhcyBELk11dGF0aW9uPFQ+O1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RNdXRhdGlvbiBhcyBELk11dGF0aW9uPFQ+O1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFycmF5TXV0YXRpb24gYXMgRC5NdXRhdGlvbjxUPjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYW55TXV0YXRpb24gYXMgRC5NdXRhdGlvbjxUPjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0cmluZ011dGF0aW9uOiBELk11dGF0aW9uPCdzdHJpbmcnPiA9IChzdGF0ZTogRC5PYmplY3QsIHZhbHVlPzogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIHN0YXRlW3RoaXMuc3RhdGVfbmFtZV0gPSB2YWx1ZSA/IHZhbHVlIDogbnVsbFxuICAgIH07XG5cbiAgICBudW1iZXJNdXRhdGlvbjogRC5NdXRhdGlvbjwnbnVtYmVyJz4gPSAoc3RhdGU6IEQuT2JqZWN0LCB2YWx1ZT86IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgICBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdID0gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiB2YWx1ZVxuICAgIH07XG5cbiAgICBib29sZWFuTXV0YXRpb246IEQuTXV0YXRpb248J2Jvb2xlYW4nPiA9IChzdGF0ZTogRC5PYmplY3QsIHZhbHVlPzogYW55KTogdm9pZCA9PiB7XG4gICAgICAgIHN0YXRlW3RoaXMuc3RhdGVfbmFtZV0gPSB2YWx1ZSA9PSBudWxsID8gbnVsbCA6ICEhdmFsdWVcbiAgICB9O1xuXG4gICAgb2JqZWN0TXV0YXRpb246IEQuTXV0YXRpb248J29iamVjdCc+ID0gKHN0YXRlOiBELk9iamVjdCwgdmFsdWU/OiBvYmplY3QpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RhdGVbdGhpcy5zdGF0ZV9uYW1lXSA9IG51bGxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlW3RoaXMuc3RhdGVfbmFtZV0gPSB2YWx1ZVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFycmF5TXV0YXRpb246IEQuTXV0YXRpb248J2FycmF5Jz4gPSAoc3RhdGU6IEQuT2JqZWN0LCB2YWx1ZT86IGFueVtdKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc3RhdGVbdGhpcy5zdGF0ZV9uYW1lXSA9IG51bGxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlW3RoaXMuc3RhdGVfbmFtZV0gPSB2YWx1ZVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFueU11dGF0aW9uOiBELk11dGF0aW9uPGFueT4gPSAoc3RhdGU6IEQuT2JqZWN0LCB2YWx1ZT86IGFueSk6IHZvaWQgPT4ge1xuICAgICAgICBzdGF0ZVt0aGlzLnN0YXRlX25hbWVdID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTXV0YXRpb25cbiIsIi8qKlxuICog4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTXG4gKiBTdHJpbmcgSGVscGVyc1xuICog4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3RDaGFyKHN0cjogc3RyaW5nLCBudW0gPSAxKTogc3RyaW5nXG57XG4gICAgaWYgKG51bSA+IHN0ci5sZW5ndGgpIG51bSA9IHN0ci5sZW5ndGg7XG4gICAgcmV0dXJuIHN0ci5zbGljZSgoc3RyLmxlbmd0aCAtIG51bSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0xvd2VyQ2FzZUZpcnN0KHN1YmplY3Q6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIHJldHVybiBgJHtzdWJqZWN0LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpfSR7c3ViamVjdC5zbGljZSgxKX1gXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1VwcGVyQ2FzZUZpcnN0KHN1YmplY3Q6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIHJldHVybiBgJHtzdWJqZWN0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7c3ViamVjdC5zbGljZSgxKX1gXG59XG5cbi8qKlxuICogVXBwZXJjYXNlIGFsbCBmaXJzdCBsZXR0ZXJzIG9mIGEgc3RyaW5nLlxuICpcbiAqIElmIG5vdCBzZXBhcmF0b3JzIGFyZSBzcGVjaWZpZWQgYWxsIHRoZSBmaXJzdCBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIGZvbGxvd2luZyB3aWxsIGJlIHRyYW5zZm9ybWVkOlxuICogXCJcXHNcIiwgXCItXCIsIFwiX1wiLCBcIi9cIiwgXCJcXFwiLCBcIlxcblwiLCBcIlxcdFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VwcGVyQ2FzZUZpcnN0QWxsKHN0cmluZzogc3RyaW5nLCAuLi5zZXBhcmF0b3JzOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIGlmICghc2VwYXJhdG9ycy5sZW5ndGgpIHNlcGFyYXRvcnMgPSBbJyAnLCAnLScsICdfJywgJy8nLCAnXFxcXCcsICdcXG4nLCAnXFx0J107XG5cbiAgICBzZXBhcmF0b3JzLmZvckVhY2goc2VwYXJhdG9yID0+IHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNwbGl0KHNlcGFyYXRvcikubWFwKHdvcmQgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRvVXBwZXJDYXNlRmlyc3Qod29yZClcbiAgICAgICAgfSkuam9pbihzZXBhcmF0b3IpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RyaW5nXG59XG5cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyB0byBwYXNjYWwgY2FzZS5cbiAqXG4gKiBJZiBub3Qgc2VwYXJhdG9ycyBhcmUgc3BlY2lmaWVkIGFsbCB0aGUgZmlyc3QgY2hhcmFjdGVyIGFmdGVyIHRoZSBmb2xsb3dpbmcgd2lsbCBiZSB0cmFuc2Zvcm1lZDpcbiAqIFwiXFxzXCIsIFwiLVwiLCBcIl9cIiwgXCIvXCIsIFwiXFxcIiwgXCJcXG5cIiwgXCJcXHRcIiBhbmQgdGhlIHNlcGFyYXRvcnMgd2lsbCBiZSByZW1vdmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1Bhc2NhbENhc2Uoc3RyaW5nOiBzdHJpbmcsIC4uLnNlcGFyYXRvcnM6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgaWYgKCFzZXBhcmF0b3JzLmxlbmd0aCkgc2VwYXJhdG9ycyA9IFsnICcsICctJywgJ18nLCAnLycsICdcXFxcJ107XG5cbiAgICBzdHJpbmcgPSB0b1VwcGVyQ2FzZUZpcnN0QWxsKHN0cmluZywgLi4uc2VwYXJhdG9ycyk7XG5cbiAgICBzZXBhcmF0b3JzLmZvckVhY2goc2VwYXJhdG9yID0+IHtcbiAgICAgICAgaWYgKHNlcGFyYXRvciA9PT0gJ1xcXFwnKSBzZXBhcmF0b3IgPSAnXFxcXFxcXFwnO1xuICAgICAgICBjb25zdCByZWdFeCA9IG5ldyBSZWdFeHAoc2VwYXJhdG9yLCAnZycpO1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdFeCwgJycpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RyaW5nXG59XG5cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyB0byBwYXNjYWwgY2FzZS5cbiAqXG4gKiBJZiBub3Qgc2VwYXJhdG9ycyBhcmUgc3BlY2lmaWVkIGFsbCB0aGUgZmlyc3QgY2hhcmFjdGVyIGFmdGVyIHRoZSBmb2xsb3dpbmcgd2lsbCBiZSB0cmFuc2Zvcm1lZDpcbiAqIFwiXFxzXCIsIFwiLVwiLCBcIl9cIiwgXCIvXCIsIFwiXFxcIiwgXCJcXG5cIiwgXCJcXHRcIiBhbmQgdGhlIHNlcGFyYXRvcnMgd2lsbCBiZSByZW1vdmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0NhbWVsQ2FzZShzdHJpbmc6IHN0cmluZywgLi4uc2VwYXJhdG9yczogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICByZXR1cm4gdG9Mb3dlckNhc2VGaXJzdCh0b1Bhc2NhbENhc2Uoc3RyaW5nLCAuLi5zZXBhcmF0b3JzKSlcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgc3RyaW5nIHRvIHNuYWtlIGNhc2UuXG4gKlxuICogSWYgbm90IHNlcGFyYXRvcnMgYXJlIHNwZWNpZmllZCBhbGwgdGhlIGZpcnN0IGNoYXJhY3RlciBhZnRlciB0aGUgZm9sbG93aW5nIHdpbGwgYmUgdHJhbnNmb3JtZWQ6XG4gKiBcIlxcc1wiLCBcIi1cIiwgXCJfXCIsIFwiL1wiLCBcIlxcXCIsIFwiXFxuXCIsIFwiXFx0XCIgYW5kIHRoZSBzZXBhcmF0b3JzIHdpbGwgYmUgcmVtb3ZlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9TbmFrZUNhc2Uoc3RyaW5nOiBzdHJpbmcsIC4uLnNlcGFyYXRvcnM6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgaWYgKCFzZXBhcmF0b3JzLmxlbmd0aCkgc2VwYXJhdG9ycyA9IFsnICcsICctJywgJy8nLCAnXFxcXCddO1xuXG4gICAgc2VwYXJhdG9ycy5mb3JFYWNoKHNlcGFyYXRvciA9PiB7XG4gICAgICAgIGlmIChzZXBhcmF0b3IgPT09ICdcXFxcJykgc2VwYXJhdG9yID0gJ1xcXFxcXFxcJztcbiAgICAgICAgY29uc3QgcmVnRXggPSBuZXcgUmVnRXhwKHNlcGFyYXRvciwgJ2cnKTtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnRXgsICdfJylcbiAgICB9KTtcblxuICAgIHJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKVxufVxuXG4vKipcbiAqIENvbnZlcnQgYSBzdHJpbmcgdG8gc25ha2UgY2FzZS5cbiAqXG4gKiBJZiBub3Qgc2VwYXJhdG9ycyBhcmUgc3BlY2lmaWVkIGFsbCB0aGUgZmlyc3QgY2hhcmFjdGVyIGFmdGVyIHRoZSBmb2xsb3dpbmcgd2lsbCBiZSB0cmFuc2Zvcm1lZDpcbiAqIFwiXFxzXCIsIFwiLVwiLCBcIl9cIiwgXCIvXCIsIFwiXFxcIiwgXCJcXG5cIiwgXCJcXHRcIiBhbmQgdGhlIHNlcGFyYXRvcnMgd2lsbCBiZSByZW1vdmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0tlYmFiQ2FzZShzdHJpbmc6IHN0cmluZywgLi4uc2VwYXJhdG9yczogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICBpZiAoIXNlcGFyYXRvcnMubGVuZ3RoKSBzZXBhcmF0b3JzID0gWycgJywgJ18nLCAnLycsICdcXFxcJ107XG5cbiAgICBzZXBhcmF0b3JzLmZvckVhY2goc2VwYXJhdG9yID0+IHtcbiAgICAgICAgaWYgKHNlcGFyYXRvciA9PT0gJ1xcXFwnKSBzZXBhcmF0b3IgPSAnXFxcXFxcXFwnO1xuICAgICAgICBjb25zdCByZWdFeCA9IG5ldyBSZWdFeHAoc2VwYXJhdG9yLCAnZycpO1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdFeCwgJy0nKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpXG59XG4iLCJpbXBvcnQgR2V0dGVyIGZyb20gXCJ+L0dldHRlclwiO1xuaW1wb3J0IE11dGF0aW9uIGZyb20gXCJ+L011dGF0aW9uXCI7XG5pbXBvcnQgKiBhcyBEIGZyb20gXCIuL2RlY2xhcmF0aW9uc1wiO1xuaW1wb3J0IHsgdG9DYW1lbENhc2UsIHRvU25ha2VDYXNlIH0gZnJvbSBcIn4vaGVscGVyc1wiO1xuXG5jbGFzcyBJbnN0cnVjdGlvblByb2Nlc3NvciB7XG4gICAgcHJpdmF0ZSBfaW5zdHJ1Y3Rpb25zOiBELkZvcm1hdHRlZEluc3RydWN0aW9ucyA9IFtdO1xuICAgIHJlYWRvbmx5IF9yYXc6IEQuSW5zdHJ1Y3Rpb25zO1xuICAgIHByaXZhdGUgX3N0YXRlX25hbWU6IHN0cmluZyA9ICcnO1xuXG4gICAgZ2V0IGluc3RydWN0aW9ucygpOiBELkZvcm1hdHRlZEluc3RydWN0aW9ucyB7IHJldHVybiB0aGlzLl9pbnN0cnVjdGlvbnMgfVxuICAgIGdldCByYXcoKSA6RC5JbnN0cnVjdGlvbnMgeyByZXR1cm4gdGhpcy5fcmF3IH1cbiAgICBnZXQgc3RhdGVfbmFtZSgpIHsgcmV0dXJuIHRoaXMuX3N0YXRlX25hbWUgfVxuICAgIHNldCBzdGF0ZV9uYW1lKHZhbHVlKSB7IHRoaXMuX3N0YXRlX25hbWUgPSB2YWx1ZSB9XG5cbiAgICBjb25zdHJ1Y3RvciAoaW5zdHJ1Y3Rpb25zOiBELkluc3RydWN0aW9ucykge1xuICAgICAgICB0aGlzLl9yYXcgPSBpbnN0cnVjdGlvbnM7XG4gICAgfVxuXG4gICAgcHJvY2VzcygpOiBELkZvcm1hdHRlZEluc3RydWN0aW9ucyB7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIG9wdGlvbnNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMucmF3KSkge1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMucHVzaCh0aGlzLnByb2Nlc3NJbnN0cnVjdGlvbihuYW1lLCBvcHRpb25zKSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zdGF0ZV9uYW1lXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb25zXG4gICAgfVxuXG4gICAgcHJvY2Vzc0luc3RydWN0aW9uIDxUIGV4dGVuZHMgRC5UeXBlcz4gKG5hbWU6IHN0cmluZywgb3B0aW9uczogRC5JbnN0cnVjdGlvbjxUPik6IEQuRm9ybWF0dGVkSW5zdHJ1Y3Rpb248VD5cbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBvcHRpb25zLnR5cGUsXG4gICAgICAgICAgICAvLyBTdGF0ZSBvcHRpb25zXG4gICAgICAgICAgICBzZXRfc3RhdGU6IG9wdGlvbnMuc2V0X3N0YXRlID09IG51bGwgPyB0cnVlIDogb3B0aW9ucy5zZXRfc3RhdGUsXG4gICAgICAgICAgICBzdGF0ZV9uYW1lOiB0aGlzLmZvcm1hdFN0YXRlTmFtZShuYW1lLCBvcHRpb25zKSxcbiAgICAgICAgICAgIHN0YXRlX3ZhbHVlOiB0aGlzLmZvcm1hdFN0YXRlVmFsdWUob3B0aW9ucyksXG4gICAgICAgICAgICAvLyBHZXR0ZXIgb3B0aW9uc1xuICAgICAgICAgICAgc2V0X2dldHRlcjogb3B0aW9ucy5zZXRfZ2V0dGVyID09IG51bGwgPyB0cnVlIDogb3B0aW9ucy5zZXRfZ2V0dGVyLFxuICAgICAgICAgICAgZ2V0dGVyX25hbWU6IHRoaXMuZm9ybWF0R2V0dGVyTmFtZShvcHRpb25zKSxcbiAgICAgICAgICAgIGdldHRlcjogdGhpcy5mb3JtYXRHZXR0ZXIob3B0aW9ucyksXG4gICAgICAgICAgICAvLyBNdXRhdGlvbiBvcHRpb25zXG4gICAgICAgICAgICBzZXRfbXV0YXRpb246IG9wdGlvbnMuc2V0X211dGF0aW9uID09IG51bGwgPyB0cnVlIDogb3B0aW9ucy5zZXRfbXV0YXRpb24sXG4gICAgICAgICAgICBtdXRhdGlvbl9uYW1lOiB0aGlzLmZvcm1hdE11dGF0aW9uTmFtZShvcHRpb25zKSxcbiAgICAgICAgICAgIG11dGF0aW9uOiB0aGlzLmZvcm1hdE11dGF0aW9uKG9wdGlvbnMudHlwZSksXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JtYXRTdGF0ZU5hbWUgPFQgZXh0ZW5kcyBELlR5cGVzPiAobmFtZTogc3RyaW5nLCBvcHRpb25zOiBELkluc3RydWN0aW9uPFQ+KTogc3RyaW5nIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RhdGVfbmFtZSkgcmV0dXJuIG9wdGlvbnMuc3RhdGVfbmFtZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVfbmFtZSA9IHRvU25ha2VDYXNlKG5hbWUpXG4gICAgfVxuXG4gICAgZm9ybWF0U3RhdGVWYWx1ZSA8VCBleHRlbmRzIEQuVHlwZXM+IChvcHRpb25zOiBELkluc3RydWN0aW9uPFQ+KTogRC5UeXBlPFQ+fG51bGwge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5pbml0aWFsX3ZhbHVlID09IG51bGwgPyBudWxsIDogb3B0aW9ucy5pbml0aWFsX3ZhbHVlXG4gICAgfVxuXG4gICAgZm9ybWF0R2V0dGVyTmFtZSA8VCBleHRlbmRzIEQuVHlwZXM+IChvcHRpb25zOiBELkluc3RydWN0aW9uPFQ+KTogc3RyaW5nIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZ2V0dGVyX25hbWUpIHJldHVybiBvcHRpb25zLmdldHRlcl9uYW1lO1xuICAgICAgICByZXR1cm4gdG9DYW1lbENhc2UoYGdldF8ke3RoaXMuc3RhdGVfbmFtZX1gKVxuICAgIH1cblxuICAgIGZvcm1hdEdldHRlciA8VCBleHRlbmRzIEQuVHlwZXM+IChvcHRpb25zOiBELkluc3RydWN0aW9uPFQ+KTogRC5HZXR0ZXI8VD5cbiAgICB7XG4gICAgICAgIGlmIChvcHRpb25zLmdldHRlcikgcmV0dXJuIG9wdGlvbnMuZ2V0dGVyO1xuICAgICAgICBjb25zdCBnZXR0ZXJzID0gbmV3IEdldHRlcih0aGlzLnN0YXRlX25hbWUsIG9wdGlvbnMuZGVmYXVsdF92YWx1ZSk7XG4gICAgICAgIHJldHVybiBnZXR0ZXJzLmZvcm1hdChvcHRpb25zLnR5cGUpXG4gICAgfVxuXG4gICAgZm9ybWF0TXV0YXRpb25OYW1lIDxUIGV4dGVuZHMgRC5UeXBlcz4gKG9wdGlvbnM6IEQuSW5zdHJ1Y3Rpb248VD4pOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChvcHRpb25zLm11dGF0aW9uX25hbWUpIHJldHVybiBvcHRpb25zLm11dGF0aW9uX25hbWU7XG4gICAgICAgIHJldHVybiB0b0NhbWVsQ2FzZShgc2V0XyR7dGhpcy5zdGF0ZV9uYW1lfWApXG4gICAgfVxuXG4gICAgZm9ybWF0TXV0YXRpb24gPFQgZXh0ZW5kcyBELlR5cGVzPiAodHlwZTogVCk6IEQuTXV0YXRpb248VD5cbiAgICB7XG4gICAgICAgIGNvbnN0IHJhdyA9IG5ldyBNdXRhdGlvbih0aGlzLnN0YXRlX25hbWUpO1xuICAgICAgICByZXR1cm4gcmF3LmZvcm1hdCh0eXBlKVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5zdHJ1Y3Rpb25Qcm9jZXNzb3JcbiIsImltcG9ydCAqIGFzIEQgZnJvbSAnfi9kZWNsYXJhdGlvbnMnO1xuaW1wb3J0IE1vZHVsZVV0aWxpdGllcyBmcm9tIFwifi9Nb2R1bGVVdGlsaXRpZXNcIjtcbmltcG9ydCBJbnN0cnVjdGlvblByb2Nlc3NvciBmcm9tIFwifi9JbnN0cnVjdGlvblByb2Nlc3NvclwiO1xuXG5jbGFzcyBNb2R1bGVHZW5lcmF0b3IgZXh0ZW5kcyBNb2R1bGVVdGlsaXRpZXMge1xuXG4gICAgY29uc3RydWN0b3IobmFtZXNwYWNlZDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIobmFtZXNwYWNlZCk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGUodGVtcGxhdGU6IEQuVGVtcGxhdGUpOiBELkV4cG9ydE1vZHVsZVxuICAgIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlLmluc3RydWN0aW9ucykgdGhpcy5leGVjdXRlSW5zdHJ1Y3Rpb25zKHRlbXBsYXRlLmluc3RydWN0aW9ucyk7XG4gICAgICAgIGlmICh0ZW1wbGF0ZS5zdGF0ZSkgdGhpcy5hZGRTdGF0ZVByb3BlcnRpZXModGVtcGxhdGUuc3RhdGUpO1xuICAgICAgICBpZiAodGVtcGxhdGUuZ2V0dGVycykgdGhpcy5hZGRHZXR0ZXJzKHRlbXBsYXRlLmdldHRlcnMpO1xuICAgICAgICBpZiAodGVtcGxhdGUubXV0YXRpb25zKSB0aGlzLmFkZE11dGF0aW9ucyh0ZW1wbGF0ZS5tdXRhdGlvbnMpO1xuICAgICAgICBpZiAodGVtcGxhdGUuYWN0aW9ucykgdGhpcy5hZGRBY3Rpb25zKHRlbXBsYXRlLmFjdGlvbnMpO1xuICAgICAgICBpZiAodGVtcGxhdGUubW9kdWxlcykgdGhpcy5hZGRNb2R1bGVzKHRlbXBsYXRlLm1vZHVsZXMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLm1vZHVsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmF3OiBELkluc3RydWN0aW9ucyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NvciA9IG5ldyBJbnN0cnVjdGlvblByb2Nlc3NvcihyYXcpO1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBwcm9jZXNzb3IucHJvY2VzcygpO1xuXG4gICAgICAgIGluc3RydWN0aW9ucy5mb3JFYWNoKGkgPT4ge1xuICAgICAgICAgICAgaWYgKGkuc2V0X3N0YXRlKSB0aGlzLmFkZFN0YXRlKGkuc3RhdGVfbmFtZSwgaS5zdGF0ZV92YWx1ZSk7XG4gICAgICAgICAgICBpZiAoaS5zZXRfZ2V0dGVyKSB0aGlzLmFkZEdldHRlcihpLmdldHRlcl9uYW1lLCBpLmdldHRlcik7XG4gICAgICAgICAgICBpZiAoaS5zZXRfbXV0YXRpb24pIHRoaXMuYWRkTXV0YXRpb24oaS5tdXRhdGlvbl9uYW1lLCBpLm11dGF0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRTdGF0ZVByb3BlcnRpZXMocHJvcGVydGllczogRC5PYmplY3QpOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRTdGF0ZShrZXksIHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRHZXR0ZXJzKGdldHRlcnM6IEQuR2V0dGVycyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGdldHRlcnMpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEdldHRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkTXV0YXRpb25zKG11dGF0aW9uczogRC5NdXRhdGlvbnMpOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhtdXRhdGlvbnMpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE11dGF0aW9uKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRBY3Rpb25zKGFjdGlvbnM6IEQuQWN0aW9ucyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGFjdGlvbnMpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEFjdGlvbihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkTW9kdWxlcyhtb2R1bGVzOiBELlN1Ym1vZHVsZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhtb2R1bGVzKSkge1xuICAgICAgICAgICAgdGhpcy5hZGRNb2R1bGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZHVsZUdlbmVyYXRvclxuIl0sInNvdXJjZVJvb3QiOiIifQ==